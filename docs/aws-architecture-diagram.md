# Strands RAG Pipeline - AWS Architecture Diagram

## ğŸ¯ Executive Summary Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          STRANDS RAG PIPELINE - AWS ARCHITECTURE                        â”‚
â”‚                                                                                         â”‚
â”‚  ğŸ‘¥ Users/Clients          ğŸ”„ Processing Layer           ğŸ’¾ Storage Layer               â”‚
â”‚                                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                 â”‚      â”‚                         â”‚    â”‚                         â”‚   â”‚
â”‚  â”‚  ğŸŒ Web App     â”‚      â”‚    ğŸšª API Gateway       â”‚    â”‚   ğŸª£ Amazon S3         â”‚   â”‚
â”‚  â”‚  ğŸ“± Mobile      â”‚â—„â”€â”€â”€â”€â–ºâ”‚   (REST Endpoints)      â”‚    â”‚   (Document Storage)    â”‚   â”‚
â”‚  â”‚  ğŸ¤– Slack Bot   â”‚      â”‚                         â”‚    â”‚                         â”‚   â”‚
â”‚  â”‚  ğŸ”— API Client  â”‚      â”‚  POST /documents        â”‚    â”‚  ğŸ“„ Raw Documents       â”‚   â”‚
â”‚  â”‚                 â”‚      â”‚  POST /chat             â”‚    â”‚  ğŸ“ Processed Text      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  ğŸ§® Embeddings         â”‚   â”‚
â”‚                                       â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                       â–¼                                                â”‚
â”‚                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚                           â”‚                         â”‚    â”‚                         â”‚   â”‚
â”‚                           â”‚   âš¡ AWS Lambda         â”‚    â”‚   ğŸ—ƒï¸ DynamoDB Tables   â”‚   â”‚
â”‚                           â”‚                         â”‚    â”‚                         â”‚   â”‚
â”‚                           â”‚  ğŸ“„ Document Processor  â”‚â—„â”€â”€â–ºâ”‚  ğŸ’¬ Conversations       â”‚   â”‚
â”‚                           â”‚  â€¢ Text Extraction      â”‚    â”‚  ğŸ·ï¸ Metadata           â”‚   â”‚
â”‚                           â”‚  â€¢ Embedding Generation â”‚    â”‚  ğŸ“Š Embeddings Index   â”‚   â”‚
â”‚                           â”‚                         â”‚    â”‚                         â”‚   â”‚
â”‚                           â”‚  ğŸ¤– RAG Agent          â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                           â”‚  â€¢ Strands Framework    â”‚                                â”‚
â”‚                           â”‚  â€¢ Multi-LLM Support   â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚                           â”‚  â€¢ Tool Integration     â”‚    â”‚                         â”‚   â”‚
â”‚                           â”‚  â€¢ Context Management  â”‚    â”‚  ğŸ§  LLM Providers      â”‚   â”‚
â”‚                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚                         â”‚   â”‚
â”‚                                       â”‚                  â”‚  ğŸ”¸ Amazon Bedrock      â”‚   â”‚
â”‚                                       â–¼                  â”‚  ğŸ”¸ Anthropic Claude    â”‚   â”‚
â”‚                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  ğŸ”¸ OpenAI GPT         â”‚   â”‚
â”‚                           â”‚                         â”‚    â”‚  ğŸ”¸ Google Gemini      â”‚   â”‚
â”‚                           â”‚   ğŸ› ï¸ Built-in Tools     â”‚    â”‚  ğŸ”¸ Meta Llama         â”‚   â”‚
â”‚                           â”‚                         â”‚    â”‚                         â”‚   â”‚
â”‚                           â”‚  ğŸ” Document Search     â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                           â”‚  ğŸ§® Calculator          â”‚                                â”‚
â”‚                           â”‚  ğŸ Python REPL        â”‚                                â”‚
â”‚                           â”‚  ğŸŒ HTTP Requests       â”‚                                â”‚
â”‚                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ—ï¸ Detailed AWS Services Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                AWS CLOUD INFRASTRUCTURE                                  â”‚
â”‚                                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                              PRESENTATION TIER                                      â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚    ğŸŒ Amazon API Gateway (Regional)                                                 â”‚ â”‚
â”‚  â”‚    â”œâ”€ REST API Endpoints                                                            â”‚ â”‚
â”‚  â”‚    â”œâ”€ Request/Response Validation                                                   â”‚ â”‚
â”‚  â”‚    â”œâ”€ CORS Configuration                                                            â”‚ â”‚
â”‚  â”‚    â”œâ”€ Rate Limiting & Throttling                                                    â”‚ â”‚
â”‚  â”‚    â”œâ”€ API Keys & IAM Authentication                                                 â”‚ â”‚
â”‚  â”‚    â””â”€ CloudWatch Logging & Monitoring                                               â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚    Endpoints:                                                                       â”‚ â”‚
â”‚  â”‚    â€¢ POST /documents  â†’ Document Processing                                         â”‚ â”‚
â”‚  â”‚    â€¢ POST /chat       â†’ RAG Query Processing                                        â”‚ â”‚
â”‚  â”‚    â€¢ GET  /health     â†’ Health Check                                                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                         â”‚                                               â”‚
â”‚                                         â–¼                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                               APPLICATION TIER                                      â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚  âš¡ AWS Lambda Functions                                                            â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚     ğŸ“„ Document Processor       â”‚  â”‚           ğŸ¤– RAG Agent                  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚                                 â”‚  â”‚                                         â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  Runtime: Python 3.11           â”‚  â”‚  Runtime: Python 3.11                   â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  Memory: 1024 MB                â”‚  â”‚  Memory: 2048 MB                        â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  Timeout: 5 minutes             â”‚  â”‚  Timeout: 5 minutes                     â”‚  â”‚ â”‚
â”‚  â”‚  â”‚                                 â”‚  â”‚                                         â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  ğŸ“¥ Input Processing:            â”‚  â”‚  ğŸ§  Strands Agent Core:                â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ PDF Text Extraction          â”‚  â”‚  â€¢ Multi-LLM Integration               â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ DOCX Processing              â”‚  â”‚  â€¢ Conversation Context                â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Image OCR (Future)           â”‚  â”‚  â€¢ Tool Orchestration                  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚                                 â”‚  â”‚                                         â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  ğŸ”„ Processing Pipeline:         â”‚  â”‚  ğŸ› ï¸ Available Tools:                   â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Text Chunking                â”‚  â”‚  â€¢ search_documents()                  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Embedding Generation         â”‚  â”‚  â€¢ get_conversation_history()          â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Metadata Extraction          â”‚  â”‚  â€¢ calculator()                        â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Quality Validation           â”‚  â”‚  â€¢ python_repl()                       â”‚  â”‚ â”‚
â”‚  â”‚  â”‚                                 â”‚  â”‚  â€¢ http_request()                      â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  ğŸ“¤ Output Storage:              â”‚  â”‚                                         â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ S3 Document Upload           â”‚  â”‚  ğŸ”— LLM Provider Support:              â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ DynamoDB Metadata            â”‚  â”‚  â€¢ Amazon Bedrock (Primary)            â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Processing Status            â”‚  â”‚  â€¢ Anthropic Claude                    â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â€¢ OpenAI GPT                          â”‚  â”‚ â”‚
â”‚  â”‚                                       â”‚  â€¢ Google Gemini                       â”‚  â”‚ â”‚
â”‚  â”‚                                       â”‚  â€¢ Meta Llama                          â”‚  â”‚ â”‚
â”‚  â”‚                                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚  ğŸ” IAM Role: RagLambdaRole                                                        â”‚ â”‚
â”‚  â”‚  â”œâ”€ AWSLambdaBasicExecutionRole                                                    â”‚ â”‚
â”‚  â”‚  â”œâ”€ S3 Read/Write Permissions                                                      â”‚ â”‚
â”‚  â”‚  â”œâ”€ DynamoDB Read/Write Permissions                                                â”‚ â”‚
â”‚  â”‚  â””â”€ Bedrock InvokeModel Permissions                                                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                         â”‚                                               â”‚
â”‚                                         â–¼                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                 DATA TIER                                           â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚  ğŸª£ Amazon S3 Bucket: strands-rag-documents-{account}-{region}                     â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚  ğŸ“ Folder Structure:                          ğŸ”’ Security Features:               â”‚ â”‚
â”‚  â”‚  â”œâ”€ /raw-documents/                            â”œâ”€ Server-Side Encryption (SSE-S3)  â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ {doc-id}.pdf                           â”œâ”€ Versioning Enabled               â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ {doc-id}.docx                          â”œâ”€ Block Public Access              â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€ {doc-id}.txt                           â””â”€ IAM-Based Access Control         â”‚ â”‚
â”‚  â”‚  â”œâ”€ /processed-text/                                                               â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ {doc-id}.json                          ğŸ“Š Lifecycle Policies:              â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€ {doc-id}-chunks.json                   â”œâ”€ Standard â†’ IA (30 days)          â”‚ â”‚
â”‚  â”‚  â””â”€ /embeddings/                              â”œâ”€ IA â†’ Glacier (90 days)           â”‚ â”‚
â”‚  â”‚     â”œâ”€ {doc-id}-vectors.json                  â””â”€ Delete old versions (1 year)     â”‚ â”‚
â”‚  â”‚     â””â”€ {doc-id}-metadata.json                                                     â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚  ğŸ—ƒï¸ Amazon DynamoDB Tables                                                         â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚   ğŸ’¬ strands-rag-conversations  â”‚  â”‚     ğŸ·ï¸ strands-rag-embeddings          â”‚  â”‚ â”‚
â”‚  â”‚  â”‚                                 â”‚  â”‚                                         â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  ğŸ”‘ Partition Key:               â”‚  â”‚  ğŸ”‘ Partition Key:                      â”‚  â”‚ â”‚
â”‚  â”‚  â”‚     conversation_id (String)    â”‚  â”‚     document_id (String)               â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  ğŸ”‘ Sort Key:                    â”‚  â”‚                                         â”‚  â”‚ â”‚
â”‚  â”‚  â”‚     timestamp (String)          â”‚  â”‚  ğŸ“‹ Attributes:                         â”‚  â”‚ â”‚
â”‚  â”‚  â”‚                                 â”‚  â”‚     â€¢ s3_key                            â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  ğŸ“‹ Attributes:                  â”‚  â”‚     â€¢ embedding_model                   â”‚  â”‚ â”‚
â”‚  â”‚  â”‚     â€¢ role (user/assistant)     â”‚  â”‚     â€¢ chunk_count                       â”‚  â”‚ â”‚
â”‚  â”‚  â”‚     â€¢ content                   â”‚  â”‚     â€¢ created_at                        â”‚  â”‚ â”‚
â”‚  â”‚  â”‚     â€¢ metadata                  â”‚  â”‚     â€¢ file_size                         â”‚  â”‚ â”‚
â”‚  â”‚  â”‚     â€¢ token_count               â”‚  â”‚     â€¢ processing_status                 â”‚  â”‚ â”‚
â”‚  â”‚  â”‚                                 â”‚  â”‚                                         â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  ğŸ” GSI: user_id-timestamp      â”‚  â”‚  ğŸ” GSI: embedding_model-created_at     â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  ğŸ’° Billing: Pay-per-request    â”‚  â”‚  ğŸ’° Billing: Pay-per-request            â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚  ğŸ”’ Security Features:                                                             â”‚ â”‚
â”‚  â”‚  â”œâ”€ Encryption at Rest (AWS Managed Keys)                                          â”‚ â”‚
â”‚  â”‚  â”œâ”€ Point-in-Time Recovery (PITR)                                                  â”‚ â”‚
â”‚  â”‚  â”œâ”€ VPC Endpoints for Private Access                                               â”‚ â”‚
â”‚  â”‚  â””â”€ IAM-Based Fine-Grained Access Control                                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                         â”‚                                               â”‚
â”‚                                         â–¼                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                            EXTERNAL SERVICES TIER                                   â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚  ğŸ§  Large Language Model Providers                                                 â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚     ğŸ”¸ Amazon Bedrock           â”‚  â”‚        ğŸ”¸ External LLM APIs             â”‚  â”‚ â”‚
â”‚  â”‚  â”‚                                 â”‚  â”‚                                         â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  ğŸ¯ Primary Provider (Default)   â”‚  â”‚  ğŸ”¸ Anthropic Claude API                â”‚  â”‚ â”‚
â”‚  â”‚  â”‚                                 â”‚  â”‚  ğŸ”¸ OpenAI GPT API                      â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  ğŸ“‹ Available Models:            â”‚  â”‚  ğŸ”¸ Google Gemini API                   â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Claude 4 Sonnet              â”‚  â”‚  ğŸ”¸ Meta Llama API                      â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Claude 3.5 Sonnet            â”‚  â”‚                                         â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Amazon Nova Premier          â”‚  â”‚  ğŸ” Authentication:                     â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Amazon Nova Pro              â”‚  â”‚  â€¢ API Keys (Development)               â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Meta Llama 3.2 90B           â”‚  â”‚  â€¢ OAuth (Production)                   â”‚  â”‚ â”‚
â”‚  â”‚  â”‚                                 â”‚  â”‚                                         â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  ğŸ” Authentication:              â”‚  â”‚  ğŸ’° Pricing:                            â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ AWS IAM Roles                â”‚  â”‚  â€¢ Pay-per-token                        â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Bedrock API Keys             â”‚  â”‚  â€¢ Rate limiting                        â”‚  â”‚ â”‚
â”‚  â”‚  â”‚                                 â”‚  â”‚  â€¢ Usage monitoring                     â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  ğŸŒ Regional Availability:       â”‚  â”‚                                         â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ us-east-1, us-west-2         â”‚  â”‚  ğŸ”„ Failover Strategy:                  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ eu-west-1, ap-southeast-1    â”‚  â”‚  â€¢ Primary: Bedrock                     â”‚  â”‚ â”‚
â”‚  â”‚  â”‚                                 â”‚  â”‚  â€¢ Secondary: Anthropic                 â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  ğŸ’° Pricing: Pay-per-token       â”‚  â”‚  â€¢ Tertiary: OpenAI                    â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ Data Flow Sequence Diagrams

### Document Upload & Processing Flow

```
Client          API Gateway      Doc Processor     S3 Bucket       DynamoDB        Bedrock
  â”‚                  â”‚                â”‚              â”‚               â”‚               â”‚
  â”‚ POST /documents  â”‚                â”‚              â”‚               â”‚               â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                â”‚              â”‚               â”‚               â”‚
  â”‚                  â”‚ Invoke Lambda  â”‚              â”‚               â”‚               â”‚
  â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚              â”‚               â”‚               â”‚
  â”‚                  â”‚                â”‚ Store Raw    â”‚               â”‚               â”‚
  â”‚                  â”‚                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚               â”‚               â”‚
  â”‚                  â”‚                â”‚              â”‚               â”‚               â”‚
  â”‚                  â”‚                â”‚ Extract Text â”‚               â”‚               â”‚
  â”‚                  â”‚                â”‚ & Chunk      â”‚               â”‚               â”‚
  â”‚                  â”‚                â”‚              â”‚               â”‚               â”‚
  â”‚                  â”‚                â”‚ Generate     â”‚               â”‚               â”‚
  â”‚                  â”‚                â”‚ Embeddings   â”‚               â”‚               â”‚
  â”‚                  â”‚                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
  â”‚                  â”‚                â”‚              â”‚               â”‚               â”‚
  â”‚                  â”‚                â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                  â”‚                â”‚ Embeddings   â”‚               â”‚               â”‚
  â”‚                  â”‚                â”‚              â”‚               â”‚               â”‚
  â”‚                  â”‚                â”‚ Store        â”‚               â”‚               â”‚
  â”‚                  â”‚                â”‚ Processed    â”‚               â”‚               â”‚
  â”‚                  â”‚                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚               â”‚               â”‚
  â”‚                  â”‚                â”‚              â”‚               â”‚               â”‚
  â”‚                  â”‚                â”‚ Save         â”‚               â”‚               â”‚
  â”‚                  â”‚                â”‚ Metadata     â”‚               â”‚               â”‚
  â”‚                  â”‚                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚               â”‚
  â”‚                  â”‚                â”‚              â”‚               â”‚               â”‚
  â”‚                  â”‚ Success        â”‚              â”‚               â”‚               â”‚
  â”‚                  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚               â”‚               â”‚
  â”‚ 200 OK           â”‚                â”‚              â”‚               â”‚               â”‚
  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                â”‚              â”‚               â”‚               â”‚
```

### RAG Query Processing Flow

```
Client          API Gateway      RAG Agent        DynamoDB        S3 Bucket       LLM Provider
  â”‚                  â”‚               â”‚               â”‚               â”‚               â”‚
  â”‚ POST /chat       â”‚               â”‚               â”‚               â”‚               â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚               â”‚               â”‚               â”‚               â”‚
  â”‚                  â”‚ Invoke Lambda â”‚               â”‚               â”‚               â”‚
  â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚               â”‚               â”‚               â”‚
  â”‚                  â”‚               â”‚ Get History   â”‚               â”‚               â”‚
  â”‚                  â”‚               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚               â”‚               â”‚
  â”‚                  â”‚               â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               â”‚               â”‚
  â”‚                  â”‚               â”‚               â”‚               â”‚               â”‚
  â”‚                  â”‚               â”‚ Search Docs   â”‚               â”‚               â”‚
  â”‚                  â”‚               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚               â”‚
  â”‚                  â”‚               â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               â”‚
  â”‚                  â”‚               â”‚ Relevant Text â”‚               â”‚               â”‚
  â”‚                  â”‚               â”‚               â”‚               â”‚               â”‚
  â”‚                  â”‚               â”‚ Generate      â”‚               â”‚               â”‚
  â”‚                  â”‚               â”‚ Response      â”‚               â”‚               â”‚
  â”‚                  â”‚               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
  â”‚                  â”‚               â”‚               â”‚               â”‚               â”‚
  â”‚                  â”‚               â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                  â”‚               â”‚ AI Response   â”‚               â”‚               â”‚
  â”‚                  â”‚               â”‚               â”‚               â”‚               â”‚
  â”‚                  â”‚               â”‚ Save          â”‚               â”‚               â”‚
  â”‚                  â”‚               â”‚ Conversation  â”‚               â”‚               â”‚
  â”‚                  â”‚               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚               â”‚               â”‚
  â”‚                  â”‚               â”‚               â”‚               â”‚               â”‚
  â”‚                  â”‚ Response      â”‚               â”‚               â”‚               â”‚
  â”‚                  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               â”‚               â”‚               â”‚
  â”‚ 200 OK + Answer  â”‚               â”‚               â”‚               â”‚               â”‚
  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               â”‚               â”‚               â”‚               â”‚
```

## ğŸŒ Network & Security Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              NETWORK ARCHITECTURE                                       â”‚
â”‚                                                                                         â”‚
â”‚  ğŸŒ Internet                                                                            â”‚
â”‚  â”‚                                                                                     â”‚
â”‚  â–¼                                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                            AWS EDGE LOCATIONS                                       â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚  ğŸŒ Amazon CloudFront (Optional)                                                    â”‚ â”‚
â”‚  â”‚  â”œâ”€ Global Content Delivery                                                         â”‚ â”‚
â”‚  â”‚  â”œâ”€ SSL/TLS Termination                                                             â”‚ â”‚
â”‚  â”‚  â”œâ”€ DDoS Protection (AWS Shield)                                                    â”‚ â”‚
â”‚  â”‚  â””â”€ Web Application Firewall (WAF)                                                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                         â”‚                                               â”‚
â”‚                                         â–¼                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                              AWS REGION (us-east-1)                                 â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚                            AVAILABILITY ZONE A                                  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                                                 â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  ğŸŒ API Gateway (Regional Endpoint)                                             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ Custom Domain with SSL Certificate                                          â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ Request/Response Logging                                                    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ API Throttling (10,000 req/sec)                                            â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€ CORS Configuration                                                          â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                                                 â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  âš¡ Lambda Functions                                                            â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ VPC Configuration (Optional)                                                â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ Security Groups                                                             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ Environment Variables (Encrypted)                                           â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€ Dead Letter Queues                                                          â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚                            AVAILABILITY ZONE B                                  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                                                 â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  ğŸ—ƒï¸ DynamoDB (Multi-AZ)                                                         â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ Global Tables (Cross-Region Replication)                                    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ Point-in-Time Recovery                                                      â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ Encryption at Rest                                                          â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€ VPC Endpoints                                                               â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                                                 â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  ğŸª£ S3 (Cross-AZ Replication)                                                   â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ Versioning & MFA Delete                                                     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ Server-Side Encryption                                                      â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ Access Logging                                                              â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€ Bucket Policies                                                             â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚  ğŸ” Security Services:                                                              â”‚ â”‚
â”‚  â”‚  â”œâ”€ AWS IAM (Identity & Access Management)                                          â”‚ â”‚
â”‚  â”‚  â”œâ”€ AWS KMS (Key Management Service)                                                â”‚ â”‚
â”‚  â”‚  â”œâ”€ AWS CloudTrail (API Logging)                                                    â”‚ â”‚
â”‚  â”‚  â”œâ”€ AWS Config (Compliance Monitoring)                                              â”‚ â”‚
â”‚  â”‚  â”œâ”€ AWS Security Hub (Security Posture)                                             â”‚ â”‚
â”‚  â”‚  â””â”€ AWS GuardDuty (Threat Detection)                                                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                                         â”‚
â”‚  ğŸ”— External Connections:                                                               â”‚
â”‚  â”œâ”€ Amazon Bedrock (us-east-1)                                                         â”‚
â”‚  â”œâ”€ Anthropic API (HTTPS)                                                              â”‚
â”‚  â”œâ”€ OpenAI API (HTTPS)                                                                 â”‚
â”‚  â”œâ”€ Google Gemini API (HTTPS)                                                          â”‚
â”‚  â””â”€ Meta Llama API (HTTPS)                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š Monitoring & Observability Dashboard

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           CLOUDWATCH MONITORING DASHBOARD                               â”‚
â”‚                                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                              SYSTEM HEALTH OVERVIEW                                 â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚  ğŸŸ¢ API Gateway Health: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 99.9%             â”‚ â”‚
â”‚  â”‚  ğŸŸ¢ Lambda Functions:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 99.8%             â”‚ â”‚
â”‚  â”‚  ğŸŸ¢ DynamoDB Tables:    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%              â”‚ â”‚
â”‚  â”‚  ğŸŸ¢ S3 Bucket:          â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%              â”‚ â”‚
â”‚  â”‚  ğŸŸ¡ Bedrock API:        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 99.5%             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                              PERFORMANCE METRICS                                    â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚  ğŸ“Š API Response Times (Last 24h):                                                  â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚ 3000ms â”¤                                                                     â”‚   â”‚ â”‚
â”‚  â”‚  â”‚ 2500ms â”¤                                                                     â”‚   â”‚ â”‚
â”‚  â”‚  â”‚ 2000ms â”¤     â–²                                                               â”‚   â”‚ â”‚
â”‚  â”‚  â”‚ 1500ms â”¤   â–² â–ˆ â–²                                                             â”‚   â”‚ â”‚
â”‚  â”‚  â”‚ 1000ms â”¤ â–² â–ˆ â–ˆ â–ˆ â–² â–²                                                         â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  500ms â”¤ â–ˆ â–ˆ â–ˆ â–ˆ â–ˆ â–ˆ â–² â–² â–² â–² â–² â–² â–² â–² â–² â–² â–² â–² â–² â–² â–² â–² â–² â–²                     â”‚   â”‚ â”‚
â”‚  â”‚  â”‚    0ms â””â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€                     â”‚   â”‚ â”‚
â”‚  â”‚  â”‚        00 02 04 06 08 10 12 14 16 18 20 22 24                               â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚  ğŸ“ˆ Request Volume:        ğŸ“Š Error Rates:           ğŸ’° Cost Tracking:            â”‚ â”‚
â”‚  â”‚  â€¢ Total: 45,230 req/day  â€¢ 4xx Errors: 0.2%        â€¢ Daily: $12.45              â”‚ â”‚
â”‚  â”‚  â€¢ Peak: 1,250 req/hour   â€¢ 5xx Errors: 0.1%        â€¢ Monthly: $374.50           â”‚ â”‚
â”‚  â”‚  â€¢ Average: 1,885 req/hr  â€¢ Timeout: 0.05%          â€¢ Projected: $4,494/year     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                ACTIVE ALARMS                                        â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚  ğŸŸ¢ No Critical Alarms                                                              â”‚ â”‚
â”‚  â”‚  ğŸŸ¡ 1 Warning: Lambda Memory Usage > 80% (RAG Agent)                               â”‚ â”‚
â”‚  â”‚  ğŸ“Š Recent Events:                                                                  â”‚ â”‚
â”‚  â”‚  â€¢ 14:23 - High request volume detected (+150% from baseline)                      â”‚ â”‚
â”‚  â”‚  â€¢ 13:45 - DynamoDB auto-scaling triggered (read capacity)                         â”‚ â”‚
â”‚  â”‚  â€¢ 12:30 - New document processed: research-paper-2024.pdf                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                              RESOURCE UTILIZATION                                   â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚  âš¡ Lambda Metrics:                    ğŸ—ƒï¸ DynamoDB Metrics:                        â”‚ â”‚
â”‚  â”‚  â€¢ Invocations: 2,341/hour            â€¢ Read Capacity: 45% utilized               â”‚ â”‚
â”‚  â”‚  â€¢ Duration: Avg 2.3s                 â€¢ Write Capacity: 23% utilized              â”‚ â”‚
â”‚  â”‚  â€¢ Memory: Peak 1,847 MB              â€¢ Item Count: 15,432 items                  â”‚ â”‚
â”‚  â”‚  â€¢ Errors: 3 (0.13%)                  â€¢ Storage: 2.1 GB                           â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚  ğŸª£ S3 Metrics:                        ğŸ§  LLM Usage:                              â”‚ â”‚
â”‚  â”‚  â€¢ Storage: 45.2 GB                   â€¢ Bedrock Tokens: 1.2M/day                  â”‚ â”‚
â”‚  â”‚  â€¢ Requests: 1,234/hour               â€¢ Anthropic Tokens: 234K/day                â”‚ â”‚
â”‚  â”‚  â€¢ Data Transfer: 2.1 GB/day          â€¢ Average Response: 1.8s                    â”‚ â”‚
â”‚  â”‚  â€¢ Objects: 8,945 files               â€¢ Cost per Token: $0.003                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ Deployment Pipeline Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              CI/CD DEPLOYMENT PIPELINE                                  â”‚
â”‚                                                                                         â”‚
â”‚  ğŸ‘¨â€ğŸ’» Developer                                                                           â”‚
â”‚  â”‚                                                                                     â”‚
â”‚  â–¼                                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                              SOURCE CONTROL                                         â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚  ğŸ“ GitHub Repository: strands-rag-pipeline                                         â”‚ â”‚
â”‚  â”‚  â”œâ”€ ğŸŒ¿ main branch (production)                                                     â”‚ â”‚
â”‚  â”‚  â”œâ”€ ğŸŒ¿ develop branch (staging)                                                     â”‚ â”‚
â”‚  â”‚  â”œâ”€ ğŸŒ¿ feature/* branches                                                           â”‚ â”‚
â”‚  â”‚  â””â”€ ğŸ“‹ Pull Request Reviews                                                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                         â”‚                                               â”‚
â”‚                                         â–¼                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                              BUILD & TEST STAGE                                     â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚  ğŸ”§ GitHub Actions / AWS CodeBuild                                                  â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚  ğŸ“‹ Pipeline Steps:                                                                 â”‚ â”‚
â”‚  â”‚  â”œâ”€ 1ï¸âƒ£ Code Checkout                                                               â”‚ â”‚
â”‚  â”‚  â”œâ”€ 2ï¸âƒ£ Install Dependencies (pip install -r requirements.txt)                      â”‚ â”‚
â”‚  â”‚  â”œâ”€ 3ï¸âƒ£ Run Unit Tests (pytest)                                                     â”‚ â”‚
â”‚  â”‚  â”œâ”€ 4ï¸âƒ£ Code Quality Checks (flake8, black)                                         â”‚ â”‚
â”‚  â”‚  â”œâ”€ 5ï¸âƒ£ Security Scanning (bandit, safety)                                          â”‚ â”‚
â”‚  â”‚  â”œâ”€ 6ï¸âƒ£ CDK Synthesis (cdk synth)                                                   â”‚ â”‚
â”‚  â”‚  â”œâ”€ 7ï¸âƒ£ CloudFormation Validation                                                   â”‚ â”‚
â”‚  â”‚  â”œâ”€ 8ï¸âƒ£ Infrastructure Security Scan (cfn-guard)                                    â”‚ â”‚
â”‚  â”‚  â””â”€ 9ï¸âƒ£ Package Lambda Functions                                                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                         â”‚                                               â”‚
â”‚                                         â–¼                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                              STAGING DEPLOYMENT                                     â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚  ğŸ§ª AWS Account: staging-123456789                                                  â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚  ğŸ“‹ Deployment Steps:                                                               â”‚ â”‚
â”‚  â”‚  â”œâ”€ 1ï¸âƒ£ CDK Bootstrap (if needed)                                                   â”‚ â”‚
â”‚  â”‚  â”œâ”€ 2ï¸âƒ£ Deploy Infrastructure (cdk deploy)                                          â”‚ â”‚
â”‚  â”‚  â”œâ”€ 3ï¸âƒ£ Run Integration Tests                                                        â”‚ â”‚
â”‚  â”‚  â”œâ”€ 4ï¸âƒ£ Performance Testing                                                         â”‚ â”‚
â”‚  â”‚  â”œâ”€ 5ï¸âƒ£ Security Testing                                                            â”‚ â”‚
â”‚  â”‚  â””â”€ 6ï¸âƒ£ Smoke Tests                                                                 â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚  ğŸ§ª Test Scenarios:                                                                 â”‚ â”‚
â”‚  â”‚  â”œâ”€ Document Upload & Processing                                                    â”‚ â”‚
â”‚  â”‚  â”œâ”€ RAG Query Processing                                                            â”‚ â”‚
â”‚  â”‚  â”œâ”€ Multi-LLM Provider Testing                                                      â”‚ â”‚
â”‚  â”‚  â”œâ”€ Load Testing (100 concurrent users)                                             â”‚ â”‚
â”‚  â”‚  â””â”€ Disaster Recovery Testing                                                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                         â”‚                                               â”‚
â”‚                                         â–¼                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                              PRODUCTION DEPLOYMENT                                  â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚  ğŸ­ AWS Account: production-987654321                                               â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚  ğŸ“‹ Deployment Strategy: Blue/Green                                                 â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚  ğŸ”µ Blue Environment (Current):                                                     â”‚ â”‚
â”‚  â”‚  â”œâ”€ API Gateway: api-v1.strands-rag.com                                            â”‚ â”‚
â”‚  â”‚  â”œâ”€ Lambda Functions: v1.2.3                                                       â”‚ â”‚
â”‚  â”‚  â”œâ”€ Traffic: 100%                                                                   â”‚ â”‚
â”‚  â”‚  â””â”€ Status: Active                                                                  â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚  ğŸŸ¢ Green Environment (New):                                                        â”‚ â”‚
â”‚  â”‚  â”œâ”€ API Gateway: api-v2.strands-rag.com                                            â”‚ â”‚
â”‚  â”‚  â”œâ”€ Lambda Functions: v1.3.0                                                       â”‚ â”‚
â”‚  â”‚  â”œâ”€ Traffic: 0% â†’ 10% â†’ 50% â†’ 100%                                                 â”‚ â”‚
â”‚  â”‚  â””â”€ Status: Deploying                                                              â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚  ğŸ“Š Deployment Monitoring:                                                          â”‚ â”‚
â”‚  â”‚  â”œâ”€ Error Rate Threshold: < 1%                                                      â”‚ â”‚
â”‚  â”‚  â”œâ”€ Response Time Threshold: < 5s                                                   â”‚ â”‚
â”‚  â”‚  â”œâ”€ Automatic Rollback: Enabled                                                     â”‚ â”‚
â”‚  â”‚  â””â”€ Manual Approval: Required for 100% traffic                                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                              POST-DEPLOYMENT                                        â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚  ğŸ“Š Monitoring & Validation:                                                        â”‚ â”‚
â”‚  â”‚  â”œâ”€ CloudWatch Dashboards Updated                                                   â”‚ â”‚
â”‚  â”‚  â”œâ”€ Synthetic Monitoring (Canary Tests)                                             â”‚ â”‚
â”‚  â”‚  â”œâ”€ Real User Monitoring (RUM)                                                      â”‚ â”‚
â”‚  â”‚  â”œâ”€ Performance Baseline Established                                                â”‚ â”‚
â”‚  â”‚  â””â”€ Documentation Updated                                                           â”‚ â”‚
â”‚  â”‚                                                                                     â”‚ â”‚
â”‚  â”‚  ğŸ”” Notifications:                                                                  â”‚ â”‚
â”‚  â”‚  â”œâ”€ Slack: #strands-rag-deployments                                                 â”‚ â”‚
â”‚  â”‚  â”œâ”€ Email: devops-team@company.com                                                  â”‚ â”‚
â”‚  â”‚  â”œâ”€ PagerDuty: On-call engineer                                                     â”‚ â”‚
â”‚  â”‚  â””â”€ Status Page: status.strands-rag.com                                             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

This comprehensive architectural diagram provides a complete view of the Strands RAG Pipeline infrastructure, covering all aspects from high-level architecture to detailed deployment pipelines, monitoring, and security considerations.